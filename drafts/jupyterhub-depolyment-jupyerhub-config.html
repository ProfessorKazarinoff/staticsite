<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>JupyterHub Deployment Part 12: JupyterHub Configuration - Python for Undergraduate Engineers</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




<style type="text/css">

    /*some stuff for output/input prompts*/
    div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.cell.selected{border-radius:4px;border:thin #ababab solid}
    div.cell.edit_mode{border-radius:4px;border:thin #008000 solid}
    div.cell{width:100%;padding:5px 5px 5px 0;margin:0;outline:none}
    div.prompt{min-width:11ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}
    @media (max-width:480px){div.prompt{text-align:left}}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
    div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;line-height:1.21429em}
    div.prompt:empty{padding-top:0;padding-bottom:0}
    div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;}
    div.inner_cell{width:90%;}
    div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;}
    div.input_prompt{color:navy;border-top:1px solid transparent;}
    div.output_wrapper{margin-top:5px;position:relative;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
    div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:4px;-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);-moz-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);}
    div.output_collapsed{margin:0px;padding:0px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
    div.out_prompt_overlay{height:100%;padding:0px 0.4em;position:absolute;border-radius:4px;}
    div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000000;-moz-box-shadow:inset 0 0 1px #000000;box-shadow:inset 0 0 1px #000000;background:rgba(240, 240, 240, 0.5);}
    div.output_prompt{color:darkred;}
    
    a.anchor-link:link{text-decoration:none;padding:0px 20px;visibility:hidden;}
    h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible;}
    /* end stuff for output/input prompts*/
    
    
    .highlight-ipynb .hll { background-color: #ffffcc }
    .highlight-ipynb  { background: #f8f8f8; }
    .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */
    .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */
    .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */
    .highlight-ipynb .o { color: #666666 } /* Operator */
    .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */
    .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */
    .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */
    .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */
    .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */
    .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */
    .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */
    .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */
    .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */
    .highlight-ipynb .go { color: #888888 } /* Generic.Output */
    .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
    .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */
    .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
    .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */
    .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
    .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
    .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
    .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */
    .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
    .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */
    .highlight-ipynb .m { color: #666666 } /* Literal.Number */
    .highlight-ipynb .s { color: #BA2121 } /* Literal.String */
    .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */
    .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */
    .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */
    .highlight-ipynb .no { color: #880000 } /* Name.Constant */
    .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */
    .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */
    .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
    .highlight-ipynb .nf { color: #0000FF } /* Name.Function */
    .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */
    .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
    .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */
    .highlight-ipynb .nv { color: #19177C } /* Name.Variable */
    .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
    .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */
    .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */
    .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */
    .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */
    .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */
    .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */
    .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */
    .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
    .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */
    .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
    .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */
    .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
    .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */
    .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */
    .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */
    .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */
    .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */
    .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */
    .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */
    .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */
    .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
    
    <style type="text/css">
    /* Overrides of notebook CSS for static HTML export */
    div.entry-content {
      overflow: visible;
      padding: 8px;
    }
    .input_area {
      padding: 0.2em;
    }
    
    a.heading-anchor {
     white-space: normal;
    }
    
    .rendered_html
    code {
     font-size: .8em;
    }
    
    pre.ipynb {
      color: black;
      background: #f7f7f7;
      border: none;
      box-shadow: none;
      margin-bottom: 0;
      padding: 0;
      margin: 0px;
      font-size: 13px;
    }
    
    /* remove the prompt div from text cells */
    div.text_cell .prompt {
        display: none;
    }
    
    /* remove horizontal padding from text cells, */
    /* so it aligns with outer body text */
    div.text_cell_render {
        padding: 0.5em 0em;
    }
    
    img.anim_icon{padding:0; border:0; vertical-align:middle; -webkit-box-shadow:none; -box-shadow:none}
    
    div.collapseheader {
        width=100%;
        padding: 2px;
        cursor: pointer;
        font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;
    }
    
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
    <script type="text/javascript">
    init_mathjax = function() {
        if (window.MathJax) {
            // MathJax loaded
            MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                },
                displayAlign: 'center', // Change this to 'center' to center equations.
                "HTML-CSS": {
                    styles: {'.MathJax_Display': {"margin": 0}}
                }
            });
            MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
    
    <link href="../extra/favicon.ico" rel="icon">

<link rel="canonical" href="../drafts/jupyterhub-depolyment-jupyerhub-config.html">

        <meta name="author" content="Peter D. Kazarinoff" />
        <meta name="keywords" content="jupyter,jupyterhub,jupyter notebooks,python,cloud server" />
        <meta name="description" content="This is the 12th part of a multi-part series that shows how to deploy JupyterHub on Digital Ocean. In this post, we&#39;ll create and modify the JupyterHub configuration file jupyerhub_config.py. In the config file, we&#39;ll specify the locations of our cookie secret and proxy auth token as well …" />

        <meta property="og:site_name" content="Python for Undergraduate Engineers" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="JupyterHub Deployment Part 12: JupyterHub Configuration"/>
        <meta property="og:url" content="../drafts/jupyterhub-depolyment-jupyerhub-config.html"/>
        <meta property="og:description" content="This is the 12th part of a multi-part series that shows how to deploy JupyterHub on Digital Ocean. In this post, we&#39;ll create and modify the JupyterHub configuration file jupyerhub_config.py. In the config file, we&#39;ll specify the locations of our cookie secret and proxy auth token as well …"/>
        <meta property="article:published_time" content="2009-12-19" />
            <meta property="article:section" content="jupyterhub" />
            <meta property="article:tag" content="jupyter" />
            <meta property="article:tag" content="jupyterhub" />
            <meta property="article:tag" content="jupyter notebooks" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="cloud server" />
            <meta property="article:author" content="Peter D. Kazarinoff" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="../theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../theme/css/pygments/native.css" rel="stylesheet">
    <link href="../theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="../theme/css/style.css" type="text/css"/>
        <link href="../static/css/custom.css" rel="stylesheet">



</head>
<body>

<!-- .navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../" class="navbar-brand">
Python for Undergraduate Engineers            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="../pages/about.html">
                             About
                          </a></li>
                         <li><a href="../pages/book.html">
                             Book
                          </a></li>
                         <li><a href="../pages/now.html">
                             Now
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">

<!-- .navbar-search -->
<li>
    <span>
        <form class="navbar-search" action="/search.html">
            <input type="text" name="q" id="tipue_search_input">
        </form>
    </span>
</li>
<!-- /.navbar-search -->              <li><a href="../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href=".." title="Python for Undergraduate Engineers"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="../category/jupyterhub.html" title="jupyterhub">jupyterhub</a></li>
                <li class="active">JupyterHub Deployment Part 12: JupyterHub Configuration</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../drafts/jupyterhub-depolyment-jupyerhub-config.html"
                       rel="bookmark"
                       title="Permalink to JupyterHub Deployment Part 12: JupyterHub Configuration">
                        JupyterHub Deployment Part 12: JupyterHub Configuration
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2009-12-19T12:40:00-08:00"> Sat 19 December 2009</time>
    </span>

            <span class="label label-default">Series</span>
            Part <built-in method index of str object at 0x000001773548A800> of 




<span class="label label-default">Tags</span>
	<a href="../tag/jupyter.html">jupyter</a>
        /
	<a href="../tag/jupyterhub.html">jupyterhub</a>
        /
	<a href="../tag/jupyter-notebooks.html">jupyter notebooks</a>
        /
	<a href="../tag/python.html">python</a>
        /
	<a href="../tag/cloud-server.html">cloud server</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>This is the 12<sup>th</sup> part of a multi-part series that shows how to deploy JupyterHub on Digital Ocean. In this post, we'll create and modify the JupyterHub configuration file <code>jupyerhub_config.py</code>. In the config file, we'll specify the locations of our cookie secret and proxy auth token as well as give ourself admin privaleges so we can monitor user's servers when they log into JuypyterHub.</p>
<div class="toc"><span class="toctitle">Table of contents:</span><ul>
<li><a href="#create-jupyterhub_configpy">Create jupyterhub_config.py</a></li>
<li><a href="#modify-jupyterhub_configpy">Modify jupyterhub_config.py</a></li>
<li><a href="#restart-nginx-and-start-jupyterhub-see-if-we-can-login">Restart nginx and start JupyterHub, see if we can login</a></li>
<li><a href="#create-an-new-user-restart-jupyterhub-and-login">Create an new user, restart JupyterHub and Login.</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
</div>
<h2 id="create-jupyterhub_configpy">Create jupyterhub_config.py</h2>
<p>We'll create the JupyterHub config file in the <code>/etc/jupyterhub</code> directory. After the directory is created, we need to modify the directory permissions. Then <code>cd</code> into it create the config file with <code>jupyterhub --generate-config</code>. Make sure you are in the <code>(jupyterhubenv)</code> virtual environment when you run the <code>--generate-config</code> command.  </p>
<div class="highlight"><pre><span></span>$ cd /etc
$ sudo mkdir jupyterhub
$ sudo chown -R root:peter jupyterhub/
$ sudo chmod -R g+rwx jupyterhub/
$ cd jupyterhub
$ conda activate jupyterhubenv
(jupyterhubenv)$ jupyterhub --generate-config
Writing default config to: jupyterhub_config.py
$ ls
jupyterhub_config.py
</pre></div>


<h2 id="modify-jupyterhub_configpy">Modify jupyterhub_config.py</h2>
<p>Now we'll modify the <code>jupyterhub_config.py</code> file to allow local spawners and include our user <code>peter</code> as an admin user:</p>
<div class="highlight"><pre><span></span>$ nano jupyterhub_config.py
</pre></div>


<p>There will be a lot of commented out text in the <code>jupyterhub_config.py</code> file. At the top of the file, add the following:</p>
<div class="highlight"><pre><span></span><span class="c1"># /etc/jupyterhub/jupyterhub_config.py</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">log_level</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># Cookie Secret Files</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">cookie_secret_file</span> <span class="o">=</span> <span class="s1">&#39;/srv/jupyterhub/jupyterhub_cookie_secret&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">ConfigurableHTTPProxy</span><span class="o">.</span><span class="n">auth_token</span> <span class="o">=</span> <span class="s1">&#39;/srv/jupyterhub/proxy_auth_token&#39;</span>

<span class="n">c</span><span class="o">.</span><span class="n">Authenticator</span><span class="o">.</span><span class="n">whitelist</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;peter&#39;</span><span class="p">}</span>
<span class="n">c</span><span class="o">.</span><span class="n">Authenticator</span><span class="o">.</span><span class="n">admin_users</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;peter&#39;</span><span class="p">}</span>
</pre></div>


<p><br></p>
<h2 id="restart-nginx-and-start-jupyterhub-see-if-we-can-login">Restart nginx and start JupyterHub, see if we can login</h2>
<p>Now we'll restart Nginx and start JupyterHub. Note that this time when we start JupyterHub we don't need to use the <code>--no-ssl</code> flag. This is because we have SSL running on Nginx. </p>
<p>If it seems like Nginx isn't working, try <code>sudo systemctl status nginx</code> and see if Nginx really started. If it didn't, try the command <code>nginx -t</code>. This command prints out any error messages if Nginx failed to start. I had to troubleshoot Nginx for a while before I got Nginx and JupyterHub working together properly.</p>
<div class="highlight"><pre><span></span>$ sudo systemctl stop nginx
$ sudo systemctl start nginx
$ sudo systemctl status nginx
# [ctrl-c] to exit
</pre></div>


<p>Once Nginx is running, restart JupyterHub without the <code>--no-ssl</code> flag. Make sure the <code>(jupyterhubenv)</code> virtual environment is active before running the <code>jupyterhub</code> command.</p>
<div class="highlight"><pre><span></span>$ cd /etc/jupyterhub
$ conda activate jupyterhubenv
(jupyterhubenv)$ jupyterhub
</pre></div>


<p>If you encounter an error that has something to do with the <code>juyterhub_cookie_secret</code> or <code>proxy_auth_token</code> files, this is because the permissions of these files doesn't all the <code>peter</code> user to read them. The commands below temporarily modify the permissions. This should allow JupyterHub to start. Just remember to change the permissions back to <code>600</code> as stated in the JupyterHub docs.</p>
<div class="highlight"><pre><span></span>$ cd /srv/jupyterhub
$ ls -la
$ sudo chown :peter jupyterhub_cookie_secret 
$ sudo chmod g+r jupyterhub_cookie_secret 
$ sudo chown :peter proxy_auth_token 
$ sudo chmod g+r proxy_auth_token 
$ ls -la
</pre></div>


<p>Now, try going back to the <code>/etc/jupyterhub</code> directory and starting JupyterHub back up again. Make sure the <code>(jupyterhubenv)</code> is activate before you run the comand.</p>
<div class="highlight"><pre><span></span>(jupyterhubenv)$ cd /etc/jupyterhub
(jupyterhubenv)$ jupyterhub
</pre></div>


<p>Log in to JupyterHub with the non-root sudo username (<code>peter</code>) and password (same user that's running the PuTTY session). </p>
<p><img alt="Jupyterhub login screen" src="images/jupyterhub_pam_spawner_login.png"></p>
<p>Now we can browse to our domain and see JupyterHub running in its full SSL glory.</p>
<p><img alt="Jupyterhub login screen" src="images/nb_file_browser_new_notebook.png"></p>
<p>Now back at the server, if you shut down JupyterHub with <code>`[Ctrl-c]</code>, you should see the notebook you just created.</p>
<div class="highlight"><pre><span></span># [Ctrl-c] to exit
(jupyterhubeve)$ cd ~
(jupyterhubeve)$ ls
test_notbook.ipynb
</pre></div>


<h2 id="create-an-new-user-restart-jupyterhub-and-login">Create an new user, restart JupyterHub and Login.</h2>
<p>OK, it's all well and good that we can log in. But the purpose of setting up JupyterHub is for multiple people to be able to log on an run Python code. To test if multiple people can run Python code on JupyterHub at the same time, we need to create another user on the server.</p>
<p>If JupyterHub is still running, stop it with [Ctrl] + [c].  Let's create a new user and see if we can log in as her.</p>
<div class="highlight"><pre><span></span>$ sudo adduser gabby
</pre></div>


<p>Go through the prompts and remember the UNIX password. Now we'll modify <code>jupyterhub_conf.py</code> to include our new user <code>gabby</code> and add <code>peter</code> (our non-root sudo user) as an administrator:</p>
<div class="highlight"><pre><span></span>(jupyterhubenv)$ pwd
# should be in /etc/jupyterhub
(jupyterhub)$ nano jupyterhub_config.py
</pre></div>


<p>Using the Nano text editor add the new user to the authenticator whitelist.</p>
<div class="highlight"><pre><span></span># /etc/jupyterhub/jupyterhub_config.py
...

c.Authenticator.whitelist = {&#39;peter&#39;,&#39;gabby&#39;}
c.Authenticator.admin_users = {&#39;peter&#39;}
</pre></div>


<p>Restart JupyterHub and try and login as <code>gabby</code></p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="n">jupyterhubenv</span><span class="p">)</span><span class="err">$</span> <span class="n">jupyterhub</span>
</pre></div>


<p><img alt="login as gabby" src="images/jh_sign_in_gabby.png"></p>
<p>After we confirm two different users can log into JupyterHub, we need to make sure that we re-set the permissions of the <code>jupyterhub_cookie_secret</code> and <code>proxy_auth_token</code> files.</p>
<div class="highlight"><pre><span></span># [Ctrl-c] to stop jupyterhub
(jupyterhubenv)$ conda deactivate
$ cd /srv/jupyterhub
$ ls -la
$ sudo chmod 600 proxy_auth_token
$ sudo chmod 600 jupyterhub_cookie_secret
$ ls -la
</pre></div>


<h2 id="next-steps">Next Steps</h2>
<p>The next step is to run JupyterHub as a system service. This allows JupyterHub to run continuously even if we aren't logged into the server. It also allows us to work on our JupyterHub deployment while it is still running.</p>
<p><br></p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="../stream-S01-E01-jupyterhub-intro.html">My first Twitch Stream: S01-E01 JupyterHub Intro and Tools</a></li>
        <li><a href="../jupyterhub-deployment-on-running-in-production.html">Hear my story about deploying JupyterHub on the Running in Production Podcast</a></li>
        <li><a href="../slides-from-pydata-pdx-presentation.html">Slides from my PyDataPDX Presentaion</a></li>
        <li><a href="../slides-from-pypdx-west-presentation.html">Slides from my PyPDX West Presentaion</a></li>
        <li><a href="../moving-from-matlab-to-python-on-talkpython.html">Hear my story about moving from MATLAB to Python on TalkPython</a></li>
    </ul>
</section>
<section class="well" id="related-posts">
    <h4>Article <built-in method index of str object at 0x000001773548A800> of the  series</h4>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
    </div>
    <!-- AddThis Button END -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="../extra/gear-wrench-icon-512-278694.png"/>
        </p>
    <p>
      <strong>About Peter Kazarinoff</strong><br/>
        I teach engineering at a community college in the Pacific Northwest. I am interested in programming and how to help students. Here I mostly blog about Python, and how programing can be incorporated into engineering education.
    </p>
</div><!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="../how-to-make-y-y-plots-with-matplotlib.html">How to make y-y plots with Matplotlib</a></li>
    <li class="list-group-item"><a href="../writing-tests-for-scientific-code.html">Writing Tests for Scientific Code</a></li>
    <li class="list-group-item"><a href="../thoughts-on-software-design-in-scientific-code.html">Thoughts on Software Design in Scientific Code</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="../"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-2">
      <a href="../tag/engineering.html">engineering</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/esp8266.html">esp8266</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/flask.html">flask</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="../tag/jupyter.html">jupyter</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="../tag/jupyter-notebook.html">jupyter notebook</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="../tag/matplotlib.html">matplotlib</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/micropython.html">micropython</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="../tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/sensor.html">sensor</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Series -->
<li class="list-group-item">
  <h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Series</span></h4>
  <ul class="list-group">
  </ul>
</li>
<!-- End Sidebar/Series -->


<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/professorkazarinoff">@professorkazarinoff</a> on GitHub
</li>
<!-- End Sidebar/Github -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 Peter Kazarinoff
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../theme/js/respond.min.js"></script>

    <script src="../static/js/custom.js"></script>


<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = '../theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'professorkazarinoff',
    count: 5,
    skip_forks: true,
    target: '#gh_repos'
  });
});
</script>
<script src="../theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-116330557-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

<script type="text/javascript">
jQuery(document).ready(function($) {
    $("div.collapseheader").click(function () {
    $header = $(this).children("span").first();
    $codearea = $(this).children(".input_area");
    console.log($(this).children());
    $codearea.slideToggle(500, function () {
        $header.text(function () {
            return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
        });
    });
});
});
</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cdd8eb4e16bf94c"></script>
</body>
</html>