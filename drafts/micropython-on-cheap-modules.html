<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Micropython on Three Dollar ESP8266-01 Modules - Python for Undergraduate Engineers</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




<style type="text/css">

    /*some stuff for output/input prompts*/
    div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.cell.selected{border-radius:4px;border:thin #ababab solid}
    div.cell.edit_mode{border-radius:4px;border:thin #008000 solid}
    div.cell{width:100%;padding:5px 5px 5px 0;margin:0;outline:none}
    div.prompt{min-width:11ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}
    @media (max-width:480px){div.prompt{text-align:left}}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
    div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;line-height:1.21429em}
    div.prompt:empty{padding-top:0;padding-bottom:0}
    div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;}
    div.inner_cell{width:90%;}
    div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;}
    div.input_prompt{color:navy;border-top:1px solid transparent;}
    div.output_wrapper{margin-top:5px;position:relative;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
    div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:4px;-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);-moz-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);}
    div.output_collapsed{margin:0px;padding:0px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
    div.out_prompt_overlay{height:100%;padding:0px 0.4em;position:absolute;border-radius:4px;}
    div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000000;-moz-box-shadow:inset 0 0 1px #000000;box-shadow:inset 0 0 1px #000000;background:rgba(240, 240, 240, 0.5);}
    div.output_prompt{color:darkred;}
    
    a.anchor-link:link{text-decoration:none;padding:0px 20px;visibility:hidden;}
    h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible;}
    /* end stuff for output/input prompts*/
    
    
    .highlight-ipynb .hll { background-color: #ffffcc }
    .highlight-ipynb  { background: #f8f8f8; }
    .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */
    .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */
    .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */
    .highlight-ipynb .o { color: #666666 } /* Operator */
    .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */
    .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */
    .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */
    .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */
    .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */
    .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */
    .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */
    .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */
    .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */
    .highlight-ipynb .go { color: #888888 } /* Generic.Output */
    .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
    .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */
    .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
    .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */
    .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
    .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
    .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
    .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */
    .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
    .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */
    .highlight-ipynb .m { color: #666666 } /* Literal.Number */
    .highlight-ipynb .s { color: #BA2121 } /* Literal.String */
    .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */
    .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */
    .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */
    .highlight-ipynb .no { color: #880000 } /* Name.Constant */
    .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */
    .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */
    .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
    .highlight-ipynb .nf { color: #0000FF } /* Name.Function */
    .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */
    .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
    .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */
    .highlight-ipynb .nv { color: #19177C } /* Name.Variable */
    .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
    .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */
    .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */
    .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */
    .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */
    .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */
    .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */
    .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */
    .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
    .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */
    .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
    .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */
    .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
    .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */
    .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */
    .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */
    .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */
    .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */
    .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */
    .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */
    .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */
    .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
    
    <style type="text/css">
    /* Overrides of notebook CSS for static HTML export */
    div.entry-content {
      overflow: visible;
      padding: 8px;
    }
    .input_area {
      padding: 0.2em;
    }
    
    a.heading-anchor {
     white-space: normal;
    }
    
    .rendered_html
    code {
     font-size: .8em;
    }
    
    pre.ipynb {
      color: black;
      background: #f7f7f7;
      border: none;
      box-shadow: none;
      margin-bottom: 0;
      padding: 0;
      margin: 0px;
      font-size: 13px;
    }
    
    /* remove the prompt div from text cells */
    div.text_cell .prompt {
        display: none;
    }
    
    /* remove horizontal padding from text cells, */
    /* so it aligns with outer body text */
    div.text_cell_render {
        padding: 0.5em 0em;
    }
    
    img.anim_icon{padding:0; border:0; vertical-align:middle; -webkit-box-shadow:none; -box-shadow:none}
    
    div.collapseheader {
        width=100%;
        padding: 2px;
        cursor: pointer;
        font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;
    }
    
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
    <script type="text/javascript">
    init_mathjax = function() {
        if (window.MathJax) {
            // MathJax loaded
            MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                },
                displayAlign: 'center', // Change this to 'center' to center equations.
                "HTML-CSS": {
                    styles: {'.MathJax_Display': {"margin": 0}}
                }
            });
            MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
    
    <link href="../extra/favicon.ico" rel="icon">

<link rel="canonical" href="../drafts/micropython-on-cheap-modules.html">

        <meta name="author" content="Peter D. Kazarinoff" />
        <meta name="keywords" content="python,micropython,esp8266,microcontroller" />
        <meta name="description" content="In this post we are going to upload Micropython on a cheap $3 ESP8266-01 board with only 1 MB of flash memory. It is pretty amazing that even these tiny, inexpensive boards can run Micropython. There are a couple tricks I learned along the way that I wanted to share …" />

        <meta property="og:site_name" content="Python for Undergraduate Engineers" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Micropython on Three Dollar ESP8266-01 Modules"/>
        <meta property="og:url" content="../drafts/micropython-on-cheap-modules.html"/>
        <meta property="og:description" content="In this post we are going to upload Micropython on a cheap $3 ESP8266-01 board with only 1 MB of flash memory. It is pretty amazing that even these tiny, inexpensive boards can run Micropython. There are a couple tricks I learned along the way that I wanted to share …"/>
        <meta property="article:published_time" content="2018-02-27" />
            <meta property="article:section" content="micropython" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="micropython" />
            <meta property="article:tag" content="esp8266" />
            <meta property="article:tag" content="microcontroller" />
            <meta property="article:author" content="Peter D. Kazarinoff" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="../theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../theme/css/pygments/native.css" rel="stylesheet">
    <link href="../theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="../theme/css/style.css" type="text/css"/>
        <link href="../static/css/custom.css" rel="stylesheet">



</head>
<body>

<!-- .navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../" class="navbar-brand">
Python for Undergraduate Engineers            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="../pages/about.html">
                             About
                          </a></li>
                         <li><a href="../pages/book.html">
                             Book
                          </a></li>
                         <li><a href="../pages/now.html">
                             Now
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">

<!-- .navbar-search -->
<li>
    <span>
        <form class="navbar-search" action="/search.html">
            <input type="text" name="q" id="tipue_search_input">
        </form>
    </span>
</li>
<!-- /.navbar-search -->              <li><a href="../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href=".." title="Python for Undergraduate Engineers"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="../category/micropython.html" title="micropython">micropython</a></li>
                <li class="active">Micropython on Three Dollar ESP8266-01 Modules</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../drafts/micropython-on-cheap-modules.html"
                       rel="bookmark"
                       title="Permalink to Micropython on Three Dollar ESP8266-01 Modules">
                        Micropython on Three Dollar ESP8266-01 Modules
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2018-02-27T09:01:00-08:00"> Tue 27 February 2018</time>
    </span>

            <span class="label label-default">Series</span>
            Part <built-in method index of str object at 0x000001E09B42DDF0> of 




<span class="label label-default">Tags</span>
	<a href="../tag/python.html">python</a>
        /
	<a href="../tag/micropython.html">micropython</a>
        /
	<a href="../tag/esp8266.html">esp8266</a>
        /
	<a href="../tag/microcontroller.html">microcontroller</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>In this post we are going to upload Micropython on a cheap $3 ESP8266-01 board with only 1 MB of flash memory. It is pretty amazing that even these tiny, inexpensive boards can run Micropython. There are a couple tricks I learned along the way that I wanted to share.</p>
<p>Before we can use upload Micropython to our cheap little board, Python and <strong>esptool</strong> need to be installed on the computer. I also used a breadboard, an FTDI serial adapter and a breadboard power supply. A little breadboard adapter for the little ESP-01 was also super helpful. The breadboard adapter made it easy to break out all of the ESP-01 module's pins which are not breadboard friendly on their own.</p>
<p>Summary of Steps:</p>
<ol>
<li>Hook up ESP-01 in regular running mode (GP0,RST&rarr;3.3V) and test, turn off power</li>
<li>Hook up ESP-01 in bootloader mode(GP0-&gt;&gt;GND), turn on power, touch RST to ground, then unplug RST</li>
<li>Use <strong>esptool</strong> to erase the ESP-01's flash memory</li>
<li>Use <strong>esptool</strong> to upload firmware</li>
<li>Test Micropython REPL in PuTTY</li>
<li>Wire up LED, test in PuTTY</li>
</ol>
<h3 id="1-hook-up-esp-01-in-regular-running-mode-gp0rst-33v-and-test">1. Hook up ESP-01 in regular running mode (GP0,RST&rarr;3.3V) and test</h3>
<p>Start by hooking up the little ESP-01 board in regular <em>running mode</em>. When the ESP-01 is wired up in regular running mode, it can receive commands, run programs, blink LED's etc. This is the way the ESP-01 is usually wired up. Running mode is wired differently than bootloader mode (which we will use later).</p>
<p>Materials:</p>
<p><a href="http://a.co/iFkFL7e">ESP-01 module</a> - the black AI Tinker modules)
<a href="http://a.co/8ENtenc">ESP-01 breadboard adapter</a>
<a href="http://a.co/6Jxfyfw">Breadboard power supply</a> - wish these had micro usb, not big usb
<a href="http://a.co/j4WGbT3">FTDI serial to microUSB adaptor</a> - wish this could power ESP-01 on it's own. Make sure it is 3.3V capable
Breadboard - various
Jumper Wires - various. Better quality is worth it.</p>
<p><img alt="ESP-01 Regular Run Mode" src="../posts/micropython/esp8266_pwr_run_mode_fritzing_sketch_bb.png"></p>
<p>For regular running mode, pins from the ESP-01 need to be connected to:</p>
<h3 id="esp-01-running-mode">ESP-01 Running Mode</h3>
<table class="table table-striped table-bordered table-hover">
<thead>
<tr>
<th>ESP-01 Pin</th>
<th>Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td>RST</td>
<td>3.3 V</td>
</tr>
<tr>
<td>GP0</td>
<td>3.3 V</td>
</tr>
<tr>
<td>VC</td>
<td>3.3 V</td>
</tr>
<tr>
<td>GND</td>
<td>GND - shared with FTDI adapter</td>
</tr>
<tr>
<td>TX</td>
<td>RX - on FTDI adapter</td>
</tr>
<tr>
<td>RX</td>
<td>TX - on FTDI adapter</td>
</tr>
</tbody>
</table>
<p>A couple things I learned along the way:</p>
<ul>
<li>Using a breadboard power supply works better than using power from the FTDI adapter. The ESP-01 draws a lot of power. The <a href="https://www.sparkfun.com/products/13746">Sparkfun Beefy 3 FTDI adapter</a> can power the ESP-01, but a regular FTDI adapter had trouble.</li>
<li>The FTDI adapter only needs TX, RX and GND connected. Ensure the FTDI adapter is a 3.3 V adapter, not a 5 V adapter.</li>
<li>The right angle ESP-01 breadboard breakouts are better than the parallel ESP-01 breadboard breakouts. The right angle made it easier to connect jumper wires to the breadboard.</li>
<li>Putty doesn't seem to work to view AT commands. I needed to use the Arduino IDE serial monitor instead.</li>
<li>To connect to the ESP-01, you need to know which COM Port the ESP-01 (thru the FTDI adapter) is connected to. The active COM ports can be viewed in the Windows Device Manager.</li>
</ul>
<p>Once the ESP-01 is wired up in running mode, and connected to the computer, open the Arduino Serial monitor at 115200 Baud. Make sure the Port (COM Port) is set correctly. The following commands should produce output.</p>
<div class="highlight"><pre><span></span>AT

AT + GMR

AT + RST
</pre></div>


<h3 id="2-hook-up-esp-01-in-bootloader-modegp0-gnd-turn-on-power-touch-rst-to-ground-then-unplug-rst">2. Hook up ESP-01 in bootloader mode(GP0 &rarr; GND), turn on power, touch RST to ground, then unplug RST</h3>
<p>After confirming the ESP-01 can powered up, and AT commands can be sent over the Arduino Serial Monitor, it is time to put the ESP-01 in <em>bootloader mode</em>. When the ESP-01 is wired up in bootloader mode, firmware can be uploaded to it's flash memory. When the ESP-01 is wired in bootloader mode, it will not run regular commands, blink LED's or run scripts. The ESP-01 bootloader mode is only used when new firmware is uploaded to the board. </p>
<p>To wire the ESP-01 in bootloader mode:</p>
<ul>
<li>Connect GP0 &rarr; GND</li>
<li>Power up the ESP-01</li>
<li>Touch RST to ground momentarily, then unplug RST.</li>
</ul>
<p><img alt="ESP-01 Regular Run Mode" src="../posts/micropython/ESP-01_bootloader_mode_fritzing_sketch_bb.png"></p>
<h3 id="esp-01-bootloader-mode">ESP-01 Bootloader Mode</h3>
<table class="table table-striped table-bordered table-hover">
<thead>
<tr>
<th>ESP-01 Pin</th>
<th>Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td>RST</td>
<td>after power, up touch momentarily to GND</td>
</tr>
<tr>
<td>GP0</td>
<td>GND</td>
</tr>
<tr>
<td>VC</td>
<td>3.3 V</td>
</tr>
<tr>
<td>GND</td>
<td>GND - shared with FTDI adapter</td>
</tr>
<tr>
<td>TX</td>
<td>RX - on FTDI adapter</td>
</tr>
<tr>
<td>RX</td>
<td>TX - on FTDI adapter</td>
</tr>
</tbody>
</table>
<h3 id="3-use-esptool-to-erase-the-esp-01s-flash-memory">3. Use <strong>esptool</strong> to erase the ESP-01's flash memory</h3>
<p>With the ESP-01 in bootloader mode, we can upload firmware to the board. But before uploading new firmware, it is a good idea to erase the flash memory on the board first.</p>
<p>To erase the ESP-01's flash memory, connect the board to the computer through the FTDI breakout. Power up the board and momentarily touch the RST pin to ground to put the ESP-01 into bootloader mode. Ensure <strong>esptool</strong> is installed in the current virtual environment and run following command at a terminal of the Anaconda Prompt. Make sure to replace <code>COM4</code> with the correct COM Port.</p>
<div class="highlight"><pre><span></span>$ esptool --port COM4 erase_flash
</pre></div>


<h3 id="4-use-esptool-to-upload-firmware">4. Use <strong>esptool</strong> to upload firmware</h3>
<p>Now that the flash memory of the ESP-01 is cleared, we can upload the Micropython firmware to the tiny cheap board. </p>
<h4 id="download-the-latest-micropython-firmware-bin-file">Download the latest micropython firmware .bin file</h4>
<p>Go to github and <a href="https://micropython.org/download#esp8266">download the latest .bin firmware</a> file. The .bin firmware file is the version of Micropython that will run on an ESP-01 board. I got the regular version of the ESP8266 firmware (the ESP8266 firmware version that runs on the Adafruit Feather Huzzah and NodeMCU boards) to run on the ESP-01. The version of little ESP-01 board I'm using is from AI Tinker. The little boards are black and have 1MB of flash memory. Some ESP-01 boards have 512 kB of memory (it seems these are usually blue) and others have 1MB of memory (usually black?).</p>
<p><img alt=".bin firmware on github" src="../posts/micropython/firmware_download_page.PNG"></p>
<h4 id="flash-the-firmware-onto-the-esp-01">Flash the firmware onto the ESP-01</h4>
<p>To upload the firmware to the ESP-01 board, connect the board to the computer through the FTDI breakout. Again, power up the board and momentarily touch the RST pin to ground. This puts the ESP-01 into bootloader mode. Run the following command at a terminal. Ensure the firmware name corresponds to the firmware you downloaded and that the firware.bin file is in the current working directory. Note the <code>--port</code> also needs to be set correctly.</p>
<div class="highlight"><pre><span></span>$ esptool --port COM4 --baud <span class="m">115200</span> write_flash --flash_size<span class="o">=</span>detect <span class="m">0</span> esp8266-20171101-v1.9.3.bin
</pre></div>


<h3 id="5-test-micropython-repl-in-putty">5. Test Micropython REPL in PuTTY</h3>
<p>Next we will check the Micropython firmware we just upload to the ESP-01 with PuTTY. Disconnect the ESP-01 from power and wire it up in regular running mode (RST, GPO &rarr; 3.3 V). </p>
<h3 id="esp-01-running-mode_1">ESP-01 Running Mode</h3>
<table class="table table-striped table-bordered table-hover">
<thead>
<tr>
<th>ESP-01 Pin</th>
<th>Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td>RST</td>
<td>3.3 V</td>
</tr>
<tr>
<td>GP0</td>
<td>3.3 V</td>
</tr>
<tr>
<td>VC</td>
<td>3.3 V</td>
</tr>
<tr>
<td>GND</td>
<td>GND - shared with FTDI adapter</td>
</tr>
<tr>
<td>TX</td>
<td>RX - on FTDI adapter</td>
</tr>
<tr>
<td>RX</td>
<td>TX - on FTDI adapter</td>
</tr>
</tbody>
</table>
<p>Open a PuTTY serial terminal session at 115200 baud and try the following commands. You may need to key in [ctrl-c] or [ctrl-d] to bring up the Micropython REPL.</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.implementation
(name=&#39;micropython&#39;, version=(1, 9, 3))
&gt;&gt;&gt; sys.platform
&#39;esp8266&#39;
</pre></div>


<h3 id="6-wire-up-an-led-test-in-putty">6. Wire up an LED, test in PuTTY</h3>
<p>Next, we'll see if we can get an LED to turn on and off using the ESP-01 and Micropython. Unplug the ESP-01 from the computer and power. Wire up an LED to GP2 thru a pull up resistor to ground. </p>
<p><img alt="ESP-01 Regular Run Mode" src="../posts/micropython/esp8266_LED_fritzing_sketch_bb.png"></p>
<p>Connect the ESP-01 to the computer and power it up. Open PuTTY and try to turn the LED on and off with the following commands:</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; import machine
&gt;&gt;&gt; pin = machine.Pin(2, machine.Pin.OUT)
&gt;&gt;&gt; pin.value(1)
&gt;&gt;&gt; pin.value(0)
</pre></div>


<p>Now let's see if we can blink the LED with a loop:</p>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; for i in range(10):
...     pin.value(1)
...     time.sleep(1)
...     pin.value(0)
...     time.sleep(1)
...
</pre></div>


<p>The LED should blink on and off 10 times. </p>
<h3 id="summary">Summary:</h3>
<p>It's pretty amazing that Micropython runs on little cheap ESP-01 boards. Although the ESP-01 price is low (a little over 3 dollars), there were a couple of pieces of hardware required to get the ESP-01 board to work. The extra hardware included a breadboard power supply and an FTDI adapter. If a project used many ESP-01 modules, or if size is a big factor, it might make sense to use the cheap little ESP-01 boards. But for my money, I would spend about 5 extra dollars (for a total of only a little over 8 dollars) and get one of the ESP8266 NodeMCU boards. These modules have a voltage regulator and FTDI included, plus you get way more GPIO pins to use as compared to the ESP-01 and 4MB of flash memory to boot. It is really cool though to get Micropython running on something so small and so cheap like the ESP-01 board.</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="../upload-py-files-to-esp8266-running-micropython.html">How to upload .py-files onto an ESP8266 running MicroPython</a></li>
        <li><a href="../micropython-upload-code.html">Upload Micropython Code to an Adafruit Feather Huzzah ESP8266</a></li>
        <li><a href="../micropython-wifi.html">Using Micropython to connect an Adafruit Feather Huzzah ESP8266 to WiFi</a></li>
        <li><a href="../micropython-temp-sensor.html">Using a Temperature Sensor with Micropython running on an Adafruit Feather Huzzah ESP8266</a></li>
        <li><a href="../micropython-install.html">Installing Micropython on an Adafruit Feather Huzzah ESP8266</a></li>
    </ul>
</section>
<section class="well" id="related-posts">
    <h4>Article <built-in method index of str object at 0x000001E09B42DDF0> of the  series</h4>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
    </div>
    <!-- AddThis Button END -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="../extra/gear-wrench-icon-512-278694.png"/>
        </p>
    <p>
      <strong>About Peter Kazarinoff</strong><br/>
        I teach engineering at a community college in the Pacific Northwest. I am interested in programming and how to help students. Here I mostly blog about Python, and how programing can be incorporated into engineering education.
    </p>
</div><!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="../thoughts-on-how-to-test-science-code.html">Thoughts on Software Design in Scientific Code</a></li>
    <li class="list-group-item"><a href="../stream-S01-E01-jupyterhub-intro.html">My first Twitch Stream: S01-E01 JupyterHub Intro and Tools</a></li>
    <li class="list-group-item"><a href="../jupyterhub-deployment-on-running-in-production.html">Hear my story about deploying JupyterHub on the Running in Production Podcast</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="../"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-2">
      <a href="../tag/engineering.html">engineering</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/esp8266.html">esp8266</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/flask.html">flask</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="../tag/jupyter.html">jupyter</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="../tag/jupyter-notebook.html">jupyter notebook</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="../tag/matplotlib.html">matplotlib</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/micropython.html">micropython</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="../tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="../tag/sensor.html">sensor</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Series -->
<li class="list-group-item">
  <h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Series</span></h4>
  <ul class="list-group">
  </ul>
</li>
<!-- End Sidebar/Series -->


<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/professorkazarinoff">@professorkazarinoff</a> on GitHub
</li>
<!-- End Sidebar/Github -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 Peter Kazarinoff
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../theme/js/respond.min.js"></script>

    <script src="../static/js/custom.js"></script>


<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = '../theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'professorkazarinoff',
    count: 5,
    skip_forks: true,
    target: '#gh_repos'
  });
});
</script>
<script src="../theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-116330557-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

<script type="text/javascript">
jQuery(document).ready(function($) {
    $("div.collapseheader").click(function () {
    $header = $(this).children("span").first();
    $codearea = $(this).children(".input_area");
    console.log($(this).children());
    $codearea.slideToggle(500, function () {
        $header.text(function () {
            return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
        });
    });
});
});
</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cdd8eb4e16bf94c"></script>
</body>
</html>